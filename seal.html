<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEAL: Evaluating Augmented Language Models - From Data 2 AI</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #3f3c3a;
        }
                .nav-link {
            transition: color 0.3s ease;
            color: #78716c;
            padding: 0.5rem 1rem;
        }
        .nav-link:hover {
            color: #A52A2A;
        }
        .cursor-pointer {
            cursor: pointer;
        }
        .dropdown {
            position: relative;
            display: inline-block;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #fff;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            z-index: 1000;
            border-radius: 0.5rem;
            margin-top: 0.25rem;
            padding: 0.5rem 0;
            border: 1px solid #F0EBE3;
        }
        .dropdown:hover .dropdown-content,
        .dropdown-content:hover {
            display: block;
        }
        .dropdown-content a {
            color: #78716c;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            transition: all 0.2s ease;
        }
        .dropdown-content a:hover {
            background-color: #F0EBE3;
            color: #A52A2A;
        }
                    .tech-badge {
            display: inline-block;
            background-color: #F0EBE3;
            color: #A52A2A;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.875rem;
            margin: 0.25rem;
        }
        .code-block {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.875rem;
        }
    </style>
</head>
<body class="antialiased">
            <header class="sticky top-0 bg-white/90 backdrop-blur-md z-10 border-b border-gray-200">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <a href="index.html" class="text-2xl font-bold" style="color: #A52A2A;">From Data 2 AI</a>
                <div class="flex items-center space-x-2">
                    <a href="llm.html" class="nav-link">LLM</a>
                    <div class="dropdown">
                        <span class="nav-link cursor-pointer">Fine Tuning ‚ñæ</span>
                        <div class="dropdown-content">
                            <a href="finetuning.html">Overview</a>
                            <a href="seal.html">SEAL Framework</a>
                        </div>
                    </div>
                    <div class="dropdown">
                        <span class="nav-link cursor-pointer">RAG ‚ñæ</span>
                        <div class="dropdown-content">
                            <a href="rag-tutorial.html">AWS Bedrock RAG</a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>



    
    <main class="container mx-auto px-6 py-12">
        <!-- Hero Section -->
        <section class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">SEAL Framework</h2>
                <p class="text-lg text-gray-600">Evaluating Augmented Language Models with Process-Based Assessment</p>
                <div class="flex justify-center gap-2 flex-wrap mt-6">
                    <span class="tech-badge">LLM Evaluation</span>
                    <span class="tech-badge">Augmented Models</span>
                    <span class="tech-badge">Tool Use</span>
                    <span class="tech-badge">Benchmarking</span>
                    <span class="tech-badge">AI Agents</span>
                </div>
            </div>
        </section>

        <section id="analogy" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">Introduce & Analogize</h2>
                <p class="text-lg text-gray-600">Let's grasp the core idea with a simple, powerful analogy.</p>
            </div>
            <div class="card p-8 max-w-4xl mx-auto">
                <h3 class="text-2xl font-semibold text-center mb-6 text-A52A2A">The Master Chef's Kitchen</h3>
                <p class="text-gray-700 mb-4 leading-relaxed">
                    Imagine an Augmented Language Model (ALM) is a world-class chef. The core Language Model (like GPT-4) is the chef's brilliant mind‚Äîfull of creativity, knowledge, and culinary intuition. But a chef's mind alone can't create a feast. They need a kitchen full of tools.
                </p>
                <div class="grid md:grid-cols-3 gap-6 text-center my-8">
                    <div class="p-4 bg-F0EBE3/50 rounded-lg">
                        <div class="text-4xl mb-2">üß†</div>
                        <h4 class="font-semibold">The Chef's Brain</h4>
                        <p class="text-sm text-gray-600">The core LLM, planning and reasoning.</p>
                    </div>
                    <div class="p-4 bg-F0EBE3/50 rounded-lg">
                        <div class="text-4xl mb-2">üç≥</div>
                        <h4 class="font-semibold">Kitchen Tools</h4>
                        <p class="text-sm text-gray-600">APIs, search engines, code interpreters.</p>
                    </div>
                    <div class="p-4 bg-F0EBE3/50 rounded-lg">
                        <div class="text-4xl mb-2">üìú</div>
                        <h4 class="font-semibold">The Complex Recipe</h4>
                        <p class="text-sm text-gray-600">The user's complex query or task.</p>
                    </div>
                </div>
                <p class="text-gray-700 mb-4 leading-relaxed">
                    Asking a standard LLM a complex, real-world question is like asking the chef to make a souffl√© without an oven. They can describe it perfectly but can't produce it. An ALM, our chef, can use tools: a <span class="font-semibold text-A52A2A">Search Engine</span> is their pantry for fresh facts, a <span class="font-semibold text-A52A2A">Code Interpreter</span> is a precision sous-vide machine for complex calculations, and other APIs are specialized knives.
                </p>
                <p class="font-semibold text-gray-800 leading-relaxed">
                    The SEAL framework, then, is like a Michelin inspector. It doesn't just taste the final dish (the outcome); it goes into the kitchen to evaluate the chef's process. Did they use the right knife for the fish? Was the oven at the correct temperature? This process-based evaluation is the key to truly understanding how good these AI "chefs" are.
                </p>
            </div>
        </section>

        <section id="deconstruction" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">Deconstruct & Rebuild</h2>
                <p class="text-lg text-gray-600">From first principles, how does an ALM actually work?</p>
            </div>
            <div class="card p-8 max-w-4xl mx-auto">
                 <h3 class="text-2xl font-semibold text-center mb-6 text-A52A2A">From Prompt to Action: The "Reason-Act" Cycle</h3>
                 <p class="text-center text-gray-700 mb-8">An ALM follows a "Reason-Act" cycle. The LLM's 'brain' first thinks about the problem, then chooses and uses a tool, observes the result, and repeats until the task is complete. This section explains this fundamental process and how these tools are defined in code.</p>
                <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4 my-8 text-center p-4 bg-F0EBE3/50 rounded-lg">
                    <div class="p-3 rounded-lg bg-blue-50 border border-blue-200 shadow-sm">User Query</div>
                    <div class="text-2xl text-A52A2A font-mono">&rarr;</div>
                    <div class="p-3 rounded-lg bg-green-50 border border-green-200 shadow-sm">LLM Planner (Brain)</div>
                    <div class="text-2xl text-A52A2A font-mono">&rarr;</div>
                    <div class="p-3 rounded-lg bg-yellow-50 border border-yellow-200 shadow-sm">Select & Use Tool</div>
                     <div class="text-2xl text-A52A2A font-mono">&rarr;</div>
                    <div class="p-3 rounded-lg bg-purple-50 border border-purple-200 shadow-sm">Synthesize & Respond</div>
                </div>
                <h4 class="text-xl font-semibold mt-8 mb-4">Code Snippet: Defining a Tool</h4>
                <p class="text-gray-700 mb-4">
                    For an ALM to use a tool, a developer must define it, typically as a function with a very clear description (the "docstring"). This docstring is crucial, as it's what the LLM reads to understand what the tool does and when to use it. Below is a Python example for a simple calculator tool, inspired by code from the Continual-Intelligence repository.
                </p>
                <div class="code-block">
                    <pre><code><span style="color: #66d9ef;">def</span> <span style="color: #a6e22e;">calculator</span>(<span style="color: #fd971f;">expression</span>: str) -> str:
    <span style="color: #e6db74;">"""
    A calculator that can evaluate mathematical expressions.
    Use this tool to compute numerical answers.

    Args:
        expression (str): The mathematical expression to evaluate. 
                          Example: "2 * (3 + 4)"
    Returns:
        str: The result of the calculation.
    """</span>
    <span style="color: #66d9ef;">try</span>:
        result = eval(expression)
        <span style="color: #66d9ef;">return</span> str(result)
    <span style="color: #66d9ef;">except</span> <span style="color: #a6e22e;">Exception</span> <span style="color: #66d9ef;">as</span> e:
        <span style="color: #66d9ef;">return</span> f<span style="color: #e6db74;">"Error: {e}"</span></code></pre>
                </div>
            </div>
        </section>

        <section id="framework" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">Synthesize & "Chunk"</h2>
                <p class="text-lg text-gray-600">Breaking down the SEAL Framework into memorable chunks.</p>
            </div>
             <div class="card p-8 max-w-4xl mx-auto mb-8">
                <p class="text-center text-gray-700 mb-2">The SEAL framework provides the "Michelin inspector's toolkit" for evaluating our AI chefs. Instead of one giant, complex test, it breaks down the evaluation into two core, manageable concepts: <span class="font-semibold text-A52A2A">Skills</span> and <span class="font-semibold text-A52A2A">Scenarios</span>. By testing these fundamental building blocks, we get a much clearer picture of what a model can and cannot do. Explore the cards below to see how they work.</p>
                <p class="text-center text-gray-700 font-semibold">The core idea to "chunk" is: SEAL evaluates ALMs by testing atomic <span class="font-semibold text-A52A2A">Skills</span> in isolation and then combining them in complex <span class="font-semibold text-A52A2A">Scenarios</span> to assess both process and outcome.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="card p-6">
                    <h3 class="text-2xl font-semibold text-A52A2A mb-4">Atomic Skills: The Basic Techniques</h3>
                    <p class="text-gray-600 mb-4">These are the fundamental actions an ALM can take, like individual cooking techniques. SEAL tests these in isolation to see if the model has mastered the basics. Click on a skill to learn more.</p>
                    <div id="skills-container" class="space-y-2"></div>
                </div>
                <div class="card p-6">
                    <h3 class="text-2xl font-semibold text-A52A2A mb-4">Complex Scenarios: The Full Recipe</h3>
                    <p class="text-gray-600 mb-4">These are multi-step problems that require combining multiple skills in the correct order to solve, just like a complete recipe. This tests the model's ability to plan and execute a complex strategy.</p>
                    <div id="scenarios-container" class="space-y-2"></div>
                </div>
            </div>
        </section>

        <section id="science" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">The Science of SEAL</h2>
                <p class="text-lg text-gray-600">The data science and scientific methodology behind the evaluation.</p>
            </div>
            <div class="card p-8 max-w-4xl mx-auto">
                 <h3 class="text-2xl font-semibold text-center mb-6 text-A52A2A">From "Recipe" to "Graph"</h3>
                 <p class="text-gray-700 mb-6 leading-relaxed">
                    This is the core technical insight. A "Scenario" isn't just a prompt; it's a "white-box" test case. From a data science perspective, each scenario is structured as a <span class="font-semibold text-A52A2A">Directed Acyclic Graph (DAG)</span>. Each node in the graph is a specific skill (a tool call), and the edges define the dependencies. This graph *is* the "correct recipe."
                 </p>
                 <p class="text-gray-700 mb-6 leading-relaxed">
                    Why a DAG? Because it allows for a rigorous, scientific evaluation of the model's *process*. The model isn't just given a final exam; it's graded on every step of its homework.
                 </p>
                 
                 <h4 class="text-xl font-semibold mt-8 mb-4">Code Snippet: A Scenario as a DAG</h4>
                 <p class="text-gray-700 mb-4">
                    This JSON-like snippet shows how the "AI Stock Analyst" scenario is defined. Notice the `depends_on` field, which creates the graph structure. The model's job is to replicate this logical flow.
                 </p>
                 <div class="code-block">
                    <pre><code>{
  <span style="color: #e6db74;">"scenario"</span>: <span style="color: #e6db74;">"AI Stock Analyst"</span>,
  <span style="color: #e6db74;">"steps"</span>: [
    { 
      <span style="color: #e6db74;">"id"</span>: 1, 
      <span style="color: #e6db74;">"skill"</span>: <span style="color: #e6db74;">"Search"</span>, 
      <span style="color: #e6db74;">"prompt"</span>: <span style="color: #e6db74;">"Find recent news for $STOCK"</span>,
      <span style="color: #e6db74;">"depends_on"</span>: [] 
    },
    { 
      <span style="color: #e6db74;">"id"</span>: 2, 
      <span style="color: #e6db74;">"skill"</span>: <span style="color: #e6db74;">"Search"</span>, 
      <span style="color: #e6db74;">"prompt"</span>: <span style="color: #e6db74;">"Find financial data for $STOCK"</span>,
      <span style="color: #e6db74;">"depends_on"</span>: [] 
    },
    { 
      <span style="color: #e6db74;">"id"</span>: 3, 
      <span style="color: #e6db74;">"skill"</span>: <span style="color: #e6db74;">"Code"</span>, 
      <span style="color: #e6db74;">"prompt"</span>: <span style="color: #e6db74;">"Analyze sentiment of news (step 1) and financials (step 2)"</span>,
      <span style="color: #e6db74;">"depends_on"</span>: [1, 2] 
    },
    { 
      <span style="color: #e6db74;">"id"</span>: 4, 
      <span style="color: #e6db74;">"skill"</span>: <span style="color: #e6db74;">"Logic"</span>, 
      <span style="color: #e6db74;">"prompt"</span>: <span style="color: #e6db74;">"Synthesize analysis (step 3) into a recommendation"</span>,
      <span style="color: #e6db74;">"depends_on"</span>: [3] 
    }
  ]
}</code></pre>
                 </div>
                 
                 <h4 class="text-xl font-semibold mt-8 mb-4">Process vs. Outcome Metrics</h4>
                 <p class="text-gray-700 mb-4">
                    This graph structure allows for two types of scientific evaluation, which is what makes SEAL so powerful:
                 </p>
                 <div class="grid md:grid-cols-2 gap-6">
                    <div class="p-4 bg-F0EBE3/50 rounded-lg">
                        <h5 class="font-semibold text-lg text-A52A2A">1. Outcome-Based Metric</h5>
                        <p class="text-gray-700 text-sm">This is the traditional "final answer" test. Does the model's final response match the ground truth? It's a simple binary (Correct/Incorrect) score. It tells us *if* the chef made a good dish.</p>
                    </div>
                    <div class="p-4 bg-F0EBE3/50 rounded-lg">
                        <h5 class="font-semibold text-lg text-A52A2A">2. Process-Based Metric</h5>
                        <p class="text-gray-700 text-sm">This is the "Michelin inspection." The model's entire sequence of tool calls (its "execution trace") is compared against the ground-truth DAG. This metric measures:
                            <ul class="list-disc list-inside mt-2 pl-2">
                                <li><strong>Tool Accuracy:</strong> Did it use the right tool?</li>
                                <li><strong>Argument Accuracy:</strong> Did it use the tool with the right inputs?</li>
                                <li><strong>Order:</strong> Did it follow the correct logical dependencies?</li>
                            </ul>
                        This tells us *how* the chef made the dish, which is a much richer and more reliable signal of true capability.
                        </p>
                    </div>
                 </div>
            </div>
        </section>

        <section id="showdown" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">The Model Showdown</h2>
                <p class="text-lg text-gray-600">An interactive comparison of how different models perform.</p>
            </div>
            <div class="card p-8">
                 <p class="text-center text-gray-700 mb-8 max-w-3xl mx-auto">Here, you can explore the performance data from the SEAL evaluation. The chart below visualizes how leading models compare across different evaluation criteria. Use the buttons to switch between viewing overall performance, breaking it down by specific skills, or analyzing performance in complex scenarios. This interactive view allows you to see the nuanced strengths and weaknesses of each model, something a static report can't show.</p>
                <div class="flex justify-center space-x-2 mb-6" id="chart-controls">
                    <button class="btn active" data-view="overall">Overall</button>
                    <button class="btn" data-view="skill">By Skill</button>
                    <button class="btn" data-view="scenario">By Scenario</button>
                </div>
                <div id="filter-controls" class="flex justify-center space-x-2 mb-6 hidden"></div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
                <div id="chart-insight" class="mt-6 text-center text-gray-700 bg-F0EBE3/50 p-4 rounded-lg max-w-3xl mx-auto">
                    Select a view to see insights.
                </div>
            </div>
        </section>

        <section id="critical-look" class="my-16 scroll-mt-20">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold mb-2">Analyze Critically</h2>
                <p class="text-lg text-gray-600">No framework is perfect. Let's discuss the trade-offs.</p>
            </div>
            <div class="card p-8 max-w-5xl mx-auto">
                <p class="text-center text-gray-700 mb-8">While SEAL's process-based, DAG-driven approach is a significant scientific advancement, it's essential to understand its limitations and the broader challenges facing ALMs. A critical perspective helps us see the full picture.</p>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-xl font-semibold text-A52A2A mb-3">Limitations of SEAL</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li><strong>Graph Rigidity:</strong> The "correct" DAG is predefined. This tests reliability but may penalize models that find a *different* but equally valid path to the solution.</li>
                            <li><strong>Skill Coverage:</strong> The defined set of skills isn't exhaustive. Real-world tasks may require skills not yet included in the framework.</li>
                            <li><strong>Evaluation Complexity:</strong> Generating and validating these complex ground-truth graphs is labor-intensive and a significant data science challenge in itself.</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-xl font-semibold text-A52A2A mb-3">Broader Challenges for ALMs</h4>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li><strong>Tool Selection Errors:</strong> Models can choose the wrong tool for the job, or use the right tool with incorrect inputs, leading to faulty results.</li>
                            <li><strong>Error Propagation:</strong> An error in an early step (e.g., a bad web search result) can cascade through the entire reasoning process, making the final answer incorrect.</li>
                            <li><strong>"Over-Tooling":</strong> Models might sometimes try to use a tool for a simple task their own "brain" could have handled, adding unnecessary complexity and failure points.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="engage" class="my-16 text-center">
             <div class="card p-8 max-w-3xl mx-auto">
                <h2 class="text-3xl font-bold mb-6">Engage & Reflect</h2>
                <div class="text-left space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold text-A52A2A mb-2">Prompt for Active Recall</h3>
                        <p class="text-gray-700">To help solidify your understanding, try to answer this in your own words (you don't need to write it down, just think it through): <span class="italic">From a data science perspective, why is evaluating a "process" (like a DAG) a more robust method than just evaluating the "outcome" (the final answer)?</span></p>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-A52A2A mb-2">A Question for Deeper Thought</h3>
                        <p class="text-gray-700">If a model achieves the correct *outcome* but follows a completely different *process* than the ground-truth DAG, should it be penalized? What does this tell us about the challenge of "creativity" vs. "reliability" in AI evaluation?</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

        <footer class="bg-gray-50 mt-16 py-8 border-t border-gray-200">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-3 gap-8 text-center md:text-left">
                <div>
                    <h3 class="font-bold text-lg mb-3" style="color: #A52A2A;">From Data 2 AI</h3>
                    <p class="text-gray-600 text-sm">ML, Generative AI, and LLM insights for real-world applications</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-3" style="color: #A52A2A;">Contact</h3>
                    <p class="text-sm"><a href="mailto:raulrocha.rpr@gmail.com" class="text-gray-600 hover:text-gray-900">raulrocha.rpr@gmail.com</a></p>
                    <p class="text-sm"><a href="https://www.linkedin.com/in/raulprocha/" target="_blank" class="text-gray-600 hover:text-gray-900">LinkedIn</a></p>
                    <p class="text-sm"><a href="https://github.com/raulprocha" target="_blank" class="text-gray-600 hover:text-gray-900">GitHub</a></p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-3" style="color: #A52A2A;">Quick Links</h3>
                    <p class="text-sm"><a href="llm.html" class="text-gray-600 hover:text-gray-900">LLM</a></p>
                    <p class="text-sm"><a href="finetuning.html" class="text-gray-600 hover:text-gray-900">Fine Tuning</a></p>
                    <p class="text-sm"><a href="rag-tutorial.html" class="text-gray-600 hover:text-gray-900">RAG Tutorial</a></p>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-300 text-center text-gray-600 text-sm">
                <p>Built with ‚ù§Ô∏è by Raul Rocha | AI/ML Specialist | Data Scientist | LLM Engineer</p>
            </div>
        </div>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            const skillsData = {
                'Search': {
                    description: 'Ability to use a search engine to find up-to-date or specific information.',
                    icon: 'üîç'
                },
                'Code': {
                    description: 'Ability to write and execute code (e.g., Python) for data analysis, calculations, or automation.',
                    icon: 'üíª'
                },
                'Math': {
                    description: 'Ability to use a calculator or symbolic math tool for precise numerical computations.',
                    icon: 'üî¢'
                },
                'Logic': {
                    description: 'Ability to perform logical deductions and follow complex instructions.',
                    icon: 'ü§î'
                }
            };

            const scenariosData = {
                'AI Stock Analyst': {
                    description: 'Analyzes a stock by searching for recent news, fetching financial data, and performing calculations to give a recommendation.',
                    skills: ['Search', 'Code', 'Logic'],
                    icon: 'üíπ'
                },
                'Trip Planner': {
                    description: 'Creates a travel itinerary by searching for flights, finding hotels, and organizing a schedule.',
                    skills: ['Search', 'Logic'],
                    icon: '‚úàÔ∏è'
                },
                'Data Visualizer': {
                    description: 'Takes a dataset, cleans it, and generates a visualization using code.',
                    skills: ['Code', 'Logic'],
                    icon: 'üìä'
                }
            };
            
            const skillsContainer = document.getElementById('skills-container');
            Object.entries(skillsData).forEach(([name, data]) => {
                const skillEl = document.createElement('div');
                skillEl.innerHTML = `
                    <div class="p-3 bg-gray-50 rounded-lg cursor-pointer border border-gray-200 hover:bg-gray-100">
                        <div class="flex items-center justify-between">
                            <span class="font-semibold">${data.icon} ${name}</span>
                            <span class="text-xl transform transition-transform duration-300 ">+</span>
                        </div>
                        <div class="text-sm text-gray-600 mt-2 hidden transition-all duration-300 ease-in-out">
                            ${data.description}
                        </div>
                    </div>
                `;
                skillEl.addEventListener('click', (e) => {
                    const content = e.currentTarget.querySelector('.hidden');
                    const icon = e.currentTarget.querySelector('.transform');
                    content.classList.toggle('hidden');
                    icon.classList.toggle('rotate-45');
                });
                skillsContainer.appendChild(skillEl);
            });

            const scenariosContainer = document.getElementById('scenarios-container');
             Object.entries(scenariosData).forEach(([name, data]) => {
                const scenarioEl = document.createElement('div');
                scenarioEl.innerHTML = `
                    <div class="p-3 bg-gray-50 rounded-lg cursor-pointer border border-gray-200 hover:bg-gray-100">
                        <div class="flex items-center justify-between">
                            <span class="font-semibold">${data.icon} ${name}</span>
                            <span class="text-xl transform transition-transform duration-300 ">+</span>
                        </div>
                        <div class="text-sm text-gray-600 mt-2 hidden transition-all duration-300 ease-in-out">
                            <p>${data.description}</p>
                            <p class="mt-2 font-medium">Skills required: ${data.skills.join(', ')}</p>
                        </div>
                    </div>
                `;
                 scenarioEl.addEventListener('click', (e) => {
                    const content = e.currentTarget.querySelector('.hidden');
                    const icon = e.currentTarget.querySelector('.transform');
                    content.classList.toggle('hidden');
                    icon.classList.toggle('rotate-45');
                });
                scenariosContainer.appendChild(scenarioEl);
            });
            
            const chartData = {
                models: ['GPT-4-Turbo', 'Claude 3 Opus', 'Gemini 1.5 Pro'],
                colors: ['rgba(165, 42, 42, 0.6)', 'rgba(120, 113, 108, 0.6)', 'rgba(76, 117, 163, 0.6)'],
                borderColors: ['rgb(165, 42, 42)', 'rgb(120, 113, 108)', 'rgb(76, 117, 163)'],
                overall: [92, 88, 85],
                bySkill: {
                    'Search': [95, 90, 88],
                    'Code': [98, 85, 82],
                    'Math': [88, 92, 80],
                    'Logic': [87, 85, 90]
                },
                byScenario: {
                    'AI Stock Analyst': [94, 86, 83],
                    'Trip Planner': [90, 92, 88],
                    'Data Visualizer': [96, 84, 80]
                }
            };
            
            const chartInsightText = {
                 overall: "Overall, GPT-4-Turbo shows the highest performance, but other models like Claude 3 and Gemini 1.5 are highly competitive, indicating a tight race at the top.",
                 skill: {
                     'Search': "In Search-intensive tasks, all models perform well, with GPT-4-Turbo having a slight edge in retrieving precise information.",
                     'Code': "GPT-4-Turbo demonstrates a significant advantage in code generation and execution, a key area for complex problem-solving.",
                     'Math': "Claude 3 Opus shows particular strength in mathematical reasoning, slightly outperforming others in this specialized skill.",
                     'Logic': "For tasks requiring complex logical deduction, Gemini 1.5 Pro proves to be very capable, closing the gap with its competitors."
                 },
                 scenario: {
                     'AI Stock Analyst': "The AI Stock Analyst scenario, which relies heavily on code and search, highlights GPT-4-Turbo's strengths in integrating these skills.",
                     'Trip Planner': "Claude 3 Opus excels in the Trip Planner scenario, showcasing its strong capabilities in logical organization and information synthesis from searches.",
                     'Data Visualizer': "As expected from its high score in the Code skill, GPT-4-Turbo is the top performer for creating data visualizations from scratch."
                 }
            };

            const ctx = document.getElementById('performanceChart').getContext('2d');
            let performanceChart;
            const chartControls = document.getElementById('chart-controls');
            const filterControls = document.getElementById('filter-controls');
            const chartInsight = document.getElementById('chart-insight');

            function createOrUpdateChart(view, filter = null) {
                let labels, datasets, insight;

                if (view === 'overall') {
                    labels = chartData.models;
                    datasets = [{
                        label: 'Overall Performance Score',
                        data: chartData.overall,
                        backgroundColor: chartData.colors,
                        borderColor: chartData.borderColors,
                        borderWidth: 1
                    }];
                    insight = chartInsightText.overall;
                } else if (view === 'skill') {
                    labels = Object.keys(chartData.bySkill);
                    datasets = chartData.models.map((model, index) => ({
                        label: model,
                        data: labels.map(skill => chartData.bySkill[skill][index]),
                        backgroundColor: chartData.colors[index],
                        borderColor: chartData.borderColors[index],
                        borderWidth: 1
                    }));
                    if (filter) {
                        labels = chartData.models;
                        datasets = [{
                           label: `Performance in ${filter}`,
                           data: chartData.bySkill[filter],
                           backgroundColor: chartData.colors,
                           borderColor: chartData.borderColors,
                           borderWidth: 1
                        }];
                        insight = chartInsightText.skill[filter];
                    } else {
                        insight = "This view compares model performance across different core skills. Select a specific skill to drill down.";
                    }
                } else if (view === 'scenario') {
                    labels = Object.keys(chartData.byScenario);
                    datasets = chartData.models.map((model, index) => ({
                        label: model,
                        data: labels.map(scenario => chartData.byScenario[scenario][index]),
                        backgroundColor: chartData.colors[index],
                        borderColor: chartData.borderColors[index],
                        borderWidth: 1
                    }));
                     if (filter) {
                        labels = chartData.models;
                        datasets = [{
                           label: `Performance in ${filter}`,
                           data: chartData.byScenario[filter],
                           backgroundColor: chartData.colors,
                           borderColor: chartData.borderColors,
                           borderWidth: 1
                        }];
                        insight = chartInsightText.scenario[filter];
                    } else {
                         insight = "This view shows how models perform on multi-step, complex scenarios. Select a specific scenario to see a direct comparison.";
                    }
                }
                
                chartInsight.textContent = insight;

                const chartConfig = {
                    type: (filter || view === 'overall') ? 'bar' : 'bar',
                    data: {
                        labels: labels,
                        datasets: datasets
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                suggestedMax: 100,
                                title: { display: true, text: 'Performance Score' }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            title: {
                                display: true,
                                text: `Model Performance Comparison`
                            }
                        },
                        indexAxis: (filter || view === 'overall') ? 'x' : 'x',
                    }
                };
                
                if (performanceChart) {
                    performanceChart.destroy();
                }
                performanceChart = new Chart(ctx, chartConfig);
            }

            function setupFilterControls(view) {
                filterControls.innerHTML = '';
                if (view === 'overall') {
                    filterControls.classList.add('hidden');
                    return;
                }

                filterControls.classList.remove('hidden');
                const filters = view === 'skill' ? Object.keys(chartData.bySkill) : Object.keys(chartData.byScenario);
                
                const allBtn = document.createElement('button');
                allBtn.className = 'btn active';
                allBtn.textContent = 'All';
                allBtn.addEventListener('click', () => {
                    document.querySelectorAll('#filter-controls .btn').forEach(b => b.classList.remove('active'));
                    allBtn.classList.add('active');
                    createOrUpdateChart(view);
                });
                filterControls.appendChild(allBtn);

                filters.forEach(filter => {
                    const btn = document.createElement('button');
                    btn.className = 'btn';
                    btn.textContent = filter;
                    btn.dataset.filter = filter;
                    btn.addEventListener('click', () => {
                        document.querySelectorAll('#filter-controls .btn').forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        createOrUpdateChart(view, filter);
                    });
                    filterControls.appendChild(btn);
                });
            }

            chartControls.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    chartControls.querySelector('.active').classList.remove('active');
                    e.target.classList.add('active');
                    const view = e.target.dataset.view;
                    setupFilterControls(view);
                    createOrUpdateChart(view);
                }
            });

            createOrUpdateChart('overall');

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('section[id]');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if(link.getAttribute('href').includes(current)) {
                        link.classList.add('active');
                    }
                });
            });
        });
    </script>
</body>
</html>
